@model Recipes.ViewModels.BlogViewModel
<link href="@Url.Content("~/Content/blog.css")" rel="stylesheet" type="text/css" />

@for(int i=0; i<Model.PostsDisplayed; i++)
{
    var post = @Model.Posts[i];
    string divID = "hide" + i.ToString();
    string btnID = "btn" + i.ToString();
    <div id="middlecolumn">
        <div class="blogcontainer">
            <h3 class="title">@Html.ActionLink(post.Title, "../Post/Display", new { id = post.PostID, seofriendly = post.Title.ToSeoUrl() }) </h3>
            <div class="info"><span class="submitted">Submitted on @post.DateCreated</span></div>
            @MvcHtmlString.Create(post.BriefContent)
            <div class="buttonlink"><a id=@btnID href="javascript:toggleDiv('@divID', '@btnID');">Show more</a></div>
            <div id=@divID  style="display:none">@MvcHtmlString.Create(post.RestOfContent)</div>
        </div>
    </div>
}

<div id="morelessPosts">

    <input type="hidden" id="hiddenPosts" value=@Model.PostsDisplayed />
    
    @if (Model.Posts.Count > Model.PostsDisplayed)
    {
        <div class="buttonlink" style="clear:both"><input class="buttonright" id="btnMorePosts" type="button" value="More Posts" onclick="MorePosts();" /></div>
    }
    @if (Model.PostsDisplayed > 0)
    {
        <div class="buttonlink" style="clear:both"><input class="buttonright" id="btnLessPosts" type="button" value="Less Posts" onclick="LessPosts();" /></div>
    }

</div>

<script type="text/javascript">
<!--
    function toggleDiv(divId, btnId) {
        $("#" + divId).toggle();
        if ($("#" + divId).css('display') == 'none')
        {$("#" + btnId).html('Show more'); }
        else
        { $("#" + btnId).html('Show less'); }
    }
-->
</script>
